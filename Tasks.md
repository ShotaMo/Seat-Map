# 座席表作成アプリケーション - 実装計画

## 実装フェーズ

### Phase 1: プロジェクトセットアップ ✓
- [x] Spec.md作成
- [x] Design.md作成
- [x] Tasks.md作成

### Phase 2: プロジェクト初期化
- [ ] Vite + React + TypeScriptプロジェクト作成
- [ ] 必要な依存関係のインストール
- [ ] プロジェクト構造の作成
- [ ] 基本的なESLint/Prettier設定

### Phase 3: 型定義とユーティリティ
- [ ] `src/types/index.ts`の作成
  - Member型の定義
  - Chair型の定義
  - Table型の定義
  - Venue型の定義
  - AppState型の定義
- [ ] ユーティリティ関数の実装
  - `generateId()`関数
  - `createEmptyVenue()`関数
  - `createNewTable()`関数
  - `createNewChair()`関数

### Phase 4: コンポーネント実装（基本機能）
#### 4-1: 基本コンポーネント
- [ ] `Header.tsx`の実装
  - タイトル表示
  - テーブル追加ボタン
  - ボタン無効化ロジック（6個上限）

#### 4-2: 椅子コンポーネント
- [ ] `Chair.tsx`の実装
  - 椅子の表示
  - メンバー情報の表示（名前、X ID）
  - 空席表示
  - クリックイベント
  - 削除ボタン
  - ホバーエフェクト

#### 4-3: テーブルコンポーネント
- [ ] `Table.tsx`の実装
  - テーブルカードの表示
  - 椅子の配置とレイアウト
  - 椅子追加ボタン
  - テーブル削除ボタン
  - 椅子数の上限チェック（8個）
  - ボタン無効化ロジック

#### 4-4: 会場コンポーネント
- [ ] `Venue.tsx`の実装
  - 会場エリアの表示
  - テーブル一覧の表示
  - テーブルのグリッドレイアウト
  - イベントハンドラーの委譲

#### 4-5: メンバーフォームコンポーネント
- [ ] `MemberForm.tsx`の実装
  - モーダルまたはダイアログUI
  - 名前入力フィールド
  - X ID入力フィールド
  - 保存ボタン
  - キャンセルボタン
  - クリアボタン
  - バリデーション（名前必須）
  - フォーム送信処理

### Phase 5: ルートコンポーネントと状態管理
- [ ] `App.tsx`の実装
  - アプリケーション状態の管理
    - `venue`状態
    - `selectedChair`状態
  - イベントハンドラーの実装
    - `handleAddTable()`
    - `handleDeleteTable(tableId)`
    - `handleAddChair(tableId)`
    - `handleDeleteChair(tableId, chairId)`
    - `handleSelectChair(chairId)`
    - `handleSaveMember(member)`
    - `handleCancelEdit()`
    - `handleClearMember()`
  - コンポーネント統合

### Phase 6: スタイリング
- [ ] グローバルスタイルの設定（`index.css`）
- [ ] `Header.tsx`のスタイリング
- [ ] `Venue.tsx`のスタイリング
- [ ] `Table.tsx`のスタイリング
- [ ] `Chair.tsx`のスタイリング
- [ ] `MemberForm.tsx`のスタイリング
- [ ] レスポンシブ対応
- [ ] ホバー・アクティブ状態のスタイル

### Phase 7: 動作確認とデバッグ
- [ ] ローカル開発サーバーでの動作確認
- [ ] テーブルの追加・削除機能テスト
- [ ] 椅子の追加・削除機能テスト
- [ ] メンバー情報の登録・編集・削除テスト
- [ ] 上限値チェックのテスト（テーブル6個、椅子8個）
- [ ] バリデーションのテスト
- [ ] レスポンシブデザインの確認

### Phase 8: 最適化と改善
- [ ] パフォーマンス確認
- [ ] React.memoの適用（必要に応じて）
- [ ] useCallbackでイベントハンドラーを最適化
- [ ] アクセシビリティの確認
- [ ] コードの整理とリファクタリング

### Phase 9: ドキュメント更新
- [ ] README.mdの作成
  - プロジェクト概要
  - セットアップ方法
  - 使い方
  - 技術スタック
- [ ] コメントの追加（必要箇所）

## 実装の優先順位

### 高優先度（必須機能）
1. プロジェクトセットアップ
2. 型定義とユーティリティ
3. 基本コンポーネント実装
4. 状態管理とイベント処理
5. 基本的なスタイリング

### 中優先度
6. 詳細なスタイリングとUI改善
7. レスポンシブデザイン
8. 動作確認とデバッグ

### 低優先度（改善・拡張）
9. パフォーマンス最適化
10. アクセシビリティ強化
11. ドキュメント

## タスク詳細

### Task 1: プロジェクト初期化
```bash
npm create vite@latest . -- --template react-ts
npm install
```

### Task 2: ディレクトリ構造作成
```
src/
├── components/
│   ├── Header.tsx
│   ├── Venue.tsx
│   ├── Table.tsx
│   ├── Chair.tsx
│   └── MemberForm.tsx
├── types/
│   └── index.ts
├── utils/
│   └── helpers.ts
├── App.tsx
├── main.tsx
└── index.css
```

### Task 3: 型定義ファイル作成
ファイル: `src/types/index.ts`
- すべてのインターフェースをエクスポート

### Task 4: ユーティリティ関数作成
ファイル: `src/utils/helpers.ts`
- ID生成関数
- データ初期化関数

### Task 5-9: コンポーネント実装
各コンポーネントを順番に実装
- Props型定義
- JSX構造
- イベントハンドラー
- スタイル

### Task 10: App.tsxの実装
- すべてのコンポーネントを統合
- 状態管理ロジック
- イベントハンドラー実装

### Task 11: スタイリング
- CSS Modulesまたはインラインスタイル
- レスポンシブデザイン
- カラースキームの適用

### Task 12: テストと検証
- 手動テスト
- バグ修正

## 実装時の注意点

1. **型安全性**: すべての関数とコンポーネントに適切な型を付ける
2. **コンポーネント分割**: 各コンポーネントは単一責任の原則に従う
3. **イミュータビリティ**: 状態更新時は常に新しいオブジェクトを作成
4. **バリデーション**: ユーザー入力は必ずバリデーション
5. **エラーハンドリング**: 適切なエラーメッセージを表示
6. **命名規則**: 明確で一貫性のある命名を使用
7. **コメント**: 複雑なロジックには説明コメントを追加

## 完了条件

### 最小実装（MVP）
- [x] Spec.md、Design.md、Tasks.md作成完了
- [ ] すべてのコンポーネントが実装されている
- [ ] テーブルの追加・削除ができる
- [ ] 椅子の追加・削除ができる
- [ ] メンバー情報の登録・編集・削除ができる
- [ ] 上限チェックが機能している
- [ ] 基本的なスタイルが適用されている
- [ ] ローカル環境で正常に動作する

### 理想的な完成
- [ ] MVPの全項目達成
- [ ] レスポンシブデザイン対応
- [ ] アクセシビリティ対応
- [ ] パフォーマンス最適化
- [ ] README.mdの完成
- [ ] コードが整理されている
